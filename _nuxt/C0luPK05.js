import{J as N,K as W,L as F,M as S,N as z,O as M,r as y,F as I,o as q,P as L,V as D,z as t,Q as $,R as E,S as U,T as C,U as O,W as j,X as J,Y as K,Z as b,_ as T,d as Q,$ as X,a0 as Y,a1 as _,a2 as A,t as V,v as x,A as l,a3 as Z,a4 as u,a5 as G,a6 as H,a7 as ee,B as p,y as P,a8 as te,a9 as ae,aa as se,ab as le,x as k,ac as oe,m as re,ad as ie,ae as ne,af as ue,ag as ce,q as de}from"./zaMRx6L0.js";const me=N({color:String,cycle:Boolean,delimiterIcon:{type:W,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...F({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),ve=S()({name:"VCarousel",props:me(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:s}=o;const c=z(e,"modelValue"),{t:f}=M(),d=y();let m=-1;I(c,g),I(()=>e.interval,g),I(()=>e.cycle,v=>{v?g():window.clearTimeout(m)}),q(h);function h(){!e.cycle||!d.value||(m=window.setTimeout(d.value.group.next,+e.interval>0?+e.interval:6e3))}function g(){window.clearTimeout(m),window.requestAnimationFrame(h)}return L(()=>{const v=D.filterProps(e);return t(D,C({ref:d},v,{modelValue:c.value,"onUpdate:modelValue":r=>c.value=r,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:j(e.height)},e.style]}),{default:s.default,additional:r=>{let{group:i}=r;return t($,null,[!e.hideDelimiters&&t("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[i.items.value.length>0&&t(E,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[i.items.value.map((a,w)=>{const n={id:`carousel-item-${a.id}`,"aria-label":f("$vuetify.carousel.ariaLabel.delimiter",w+1,i.items.value.length),class:["v-carousel__controls__item",i.isSelected(a.id)&&"v-btn--active"],onClick:()=>i.select(a.id,!0)};return s.item?s.item({props:n,item:a}):t(U,C(a,n),null)})]})]),e.progress&&t(O,{class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(i.getItemIndex(c.value)+1)/i.items.value.length*100},null)])},prev:s.prev,next:s.next})}),{}}}),fe=N({...J(),...K()},"VCarouselItem"),ge=S()({name:"VCarouselItem",inheritAttrs:!1,props:fe(),setup(e,o){let{slots:s,attrs:c}=o;L(()=>{const f=b.filterProps(e),d=T.filterProps(e);return t(T,C({class:["v-carousel-item",e.class]},d),{default:()=>[t(b,C(c,f),s)]})})}}),he={class:"detail-overflow"},we={class:"d-flex fill-height justify-center align-center"},_e={key:0,class:"mx-auto",color:"#fff","max-width":"100%"},Ve={class:"detail-comment"},pe={class:"text-center"},Ce=Q({__name:"[id]",async setup(e){let o,s;const{setIsComment:c,setCommentNo:f,setCommentCount:d}=X(),m=Y(),h=de(),g=y(Number(m.params.id)),v=y([]),r=y({no:null,content:null,photoUrl:null,name:null,createAt:null});_(m.params.id)&&([o,s]=A(()=>re("/")),await o,s());const i=(w,n)=>{d(),c(w),f(n)},{data:a}=([o,s]=A(()=>ie("item",()=>$fetch(`${h.public.apiCocoaDetailInfo}`,{method:"POST",body:{sid:m.params.id}}))),o=await o,s(),o);return _(a.value)||a.value.success&&!_(a.value.rows)&&(v.value=a.value.rows,r.value={no:a.value.rows[0].no,content:a.value.rows[0].content,photoUrl:a.value.rows[0].s_photo,name:a.value.rows[0].s_name,createAt:a.value.rows[0].createdAt}),(w,n)=>(V(),x("div",he,[t(ve,{height:"400","show-arrows":"hover","hide-delimiter-background":""},{default:l(()=>[(V(!0),x($,null,Z(u(v),(B,R)=>(V(),ne(ge,{cover:"",key:R},{default:l(()=>[t(ue,{height:"100%"},{default:l(()=>[k("div",we,[t(b,{"aspect-ratio":1,src:B.filename,width:"100%"},null,8,["src"])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),u(_)(u(r).no)?le("",!0):(V(),x("div",_e,[t(ae,null,{default:l(()=>[t(G,{class:"w-100"},{prepend:l(()=>[t(H,{image:u(r).photoUrl},null,8,["image"])]),default:l(()=>[t(ee,null,{default:l(()=>[p(P(u(ce)(u(r).createAt)),1)]),_:1}),t(te,null,{default:l(()=>[p(P(u(r).name),1)]),_:1})]),_:1})]),_:1}),t(se,{class:"py-2"},{default:l(()=>[p(P(u(r).content),1)]),_:1})])),k("div",Ve,[k("div",pe,[t(U,{size:"large",color:"brown-lighten-1","prepend-icon":"mdi-message-outline",onClick:n[0]||(n[0]=B=>i(!0,u(g)))},{prepend:l(()=>[t(oe,{color:"white"})]),default:l(()=>[n[1]||(n[1]=p(" コメント "))]),_:1})])])]))}});export{Ce as default};
